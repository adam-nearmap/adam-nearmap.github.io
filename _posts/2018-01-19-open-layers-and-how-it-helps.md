---
layout: post
title: OpenLayers and how it helps
---

Here at Nearmap we have been using OpenLayers to build and enhance our map browser. For anyone that is not familiar with OpenLayers, it is an open source code library that allows developers to build a map browser using JavaScript as the base. This can be as basic as just an interactive map that allows you to zoom in and move around the map. Or you could create a complete mapping tool that will allow you to use satellite imagery tiles, measure landscapes, do site planning for construction sites, etc.

When starting with OpenLayers I found that the API documentation and their examples were really useful. You can find their API documentation [**here**](http://openlayers.org/en/latest/apidoc/). The big benefit I have found with their API documentation is that everything is clearly laid out and well documented. For example if you are looking at adding the ability to draw lines on your map, the documentation clearly outlines all the options you have in setting up and displaying the line. You can also find good examples on how this has been done. The added advantage of all the examples OpenLayers has is that the examples can be opened in [**codepen**](https://codepen.io/). This gives you a nice and easy way of modifying the standard code to discover what you can do with the feature you want to use.

In practical terms the documentation and the code examples shown on their site allows us to easily prototype an idea. The advantage of this is that you can see what is possible before you start integrating the code into your own environment. It will also help you plan how to add the code into your own project. This allows you to focus more on fine tuning and improving the functionality on your own project than worrying about whether it will work or not. Using this method also gave me the opportunity to explore the code more so that I could add more enhancements to the feature I was adding to our map browser.

Now with all things there is always 2 sides to a coin and in the case of OpenLayers it is not perfect. I have found that as long as you stick to the basics and don't venture into customising various areas of the library you will be fine. You will however find that when you want to start digging further into the library you will start encountering issues. For example if you wanted to create a custom interaction you will find that the documentation is lacking in this area. This will in turn make it harder to integrate everything together. Now you are probably thinking why would you venture away from what OpenLayers does as standard. Well you could argue it is a programmer's mission to try anything and everything to solve a problem. So as a programmer we will inevitably come across a situation where we will want to expand on the standard functionality.

As mentioned above, there are certain times when you will have to look (and step through) at the OpenLayers source to be able to fully grasp what is going on. An example of this are the **_handleXYZEvent_** methods that you can pass into the [**Pointer Interaction**](http://openlayers.org/en/latest/apidoc/ol.interaction.Pointer.html). This is especially pertinent if you are trying to write tests using non-mocked OpenLayers objects. Firing the events (e.g. - 'pointerdown') in the right order to get the behavior you expect isn't obvious from the documentation.

Another example is how events propagate through the [**Interactions**](http://openlayers.org/en/latest/apidoc/ol.interaction.Interaction.html) that you have active on the map. What's not initially clear is that the events propagate through the interactions in last-in order. So if you want an interaction to handle an event before another interaction, you have to add it to the map **_after_** the other interaction. So it's reversed. Not obvious at first and again, nothing that some debugging through the source can't fix.

One thing to note about the OpenLayers code is that it's well written and fairly straightforward to step through. There are also online resources to learn from or use to get answers:
* [**OpenLayers 3 Beginnerâ€™s Guide**](http://openlayersbook.github.io/index.html)
* [**Stack Overflow**](https://stackoverflow.com/search?q=openlayers)
* [**Geographic Information Systems**](https://gis.stackexchange.com/questions/tagged/openlayers)